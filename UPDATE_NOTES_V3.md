# 公司管理系统 v3.0 更新说明

## 主要更新内容

### 1. 权限体系改造

| 角色 | 权限说明 |
|------|----------|
| **管理员** | 最高权限，可创建项目、管理所有用户 |
| **领导** | 与管理员相同权限（除创建项目外），可查看所有部门 |
| **部门经理/副经理** | 管理本部门项目分配，只能查看本部门信息 |
| **普通员工** | 只能查看和处理分配给自己的任务 |

### 2. 项目管理流程

#### 创建项目（仅管理员）
- 输入项目名称、描述、项目负责人
- 设置开始时间和结束时间
- 为每个工序分配计划天数

#### 项目流转
1. 新建项目显示在各部门经理的"未分配项目"中
2. 部门经理分配主要负责人和辅助人员
3. 员工每日填写项目情况和问题反馈
4. 上一道工序完成后，下一道工序才能开始
5. 发货工序完成后，项目标记为已完成

### 3. 部门界面

#### 经理视图
- **未分配项目**：新建项目，需要分配给员工
- **进行中项目**：本部门员工正在处理的项目
- **完成项目**：本部门已完成的项目

#### 员工视图
- **未完成项目**：分配给自己的待处理项目
- **完成项目**：自己已完成的项目

### 4. 服务器配置工具

访问 `http://服务器IP:3000/admin` 可打开配置界面，包含：

- **服务器设置**：端口、监听地址、邀请码等
- **用户管理**：查看和删除用户
- **经理注册**：注册领导和部门经理账号

### 5. 项目详情页

- 工序信息展示（经理、人员、时间、状态等）
- 点击"查看项目信息"按钮查看工序详细信息
- 显示工作记录和问题反馈

## 默认账号

| 账号类型 | 用户名 | 密码 |
|---------|--------|------|
| 管理员 | admin | admin |

## 注册新账号

### 普通员工注册
1. 在登录页面点击"创建账号"
2. 输入用户名、密码、姓名
3. 输入邀请码（默认：admin）
4. 选择所属部门
5. 点击注册

### 领导/经理注册
1. 访问服务器配置界面 `/admin`
2. 点击"经理注册"标签
3. 填写用户名、密码、姓名
4. 选择角色（领导/部门经理/副经理）和部门
5. 点击注册

## 部署说明

1. 解压项目文件
2. 运行 `pnpm install` 安装依赖
3. 运行 `pnpm run build` 构建前端
4. 双击 `启动服务器.bat`（Windows）或运行 `./start-server.sh`（Linux）
5. 访问 `http://localhost:3000` 使用系统
6. 访问 `http://localhost:3000/admin` 进行服务器配置

## 技术栈

- 前端：React + TypeScript + Tailwind CSS + shadcn/ui
- 后端：Node.js 原生 HTTP 服务器
- 数据存储：JSON 文件（服务器端）
